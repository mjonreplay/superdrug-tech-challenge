{"version":3,"sources":["../es6/main.js"],"names":["fetch","then","response","json","data","initBtns","recipes","map","recipe","recipeSelectBtnEl","document","createElement","classList","add","recipeBtnName","createTextNode","name","appendChild","onclick","e","selectedRecipe","btnInterfaceEl","getElementById","selected","currentTarget","Array","from","querySelectorAll","forEach","el","displayEl","innerHTML","recipeTitleEl","recipeTitleName","recipeStepEl","stepGenerator","iterationTime","steps","step","i","setTimeout","recipeStepName","progressBar","length","recipeComplete","duration","bar","remove","progressBarEl","setAttribute","style","transitionDuration","focus","completionMessageEl","completionMessage","completionSubMessageEl","completionSubMessage"],"mappings":"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","sourcesContent":["fetch('./resources/recipes.json')\n    .then(response => response.json())\n    .then(data => initBtns(data))\n\n// Create Machine Buttons\nlet initBtns = data => {\n    data.recipes.map(recipe => {\n        const recipeSelectBtnEl = document.createElement(\"div\");\n        recipeSelectBtnEl.classList.add(\"sd-btn-primary\");\n        const recipeBtnName = document.createTextNode(recipe.name);\n        recipeSelectBtnEl.appendChild(recipeBtnName);\n        recipeSelectBtnEl.onclick = (e) => {\n            selectedRecipe(e, recipe);\n        };\n        const btnInterfaceEl = document.getElementById(\"sd-btn-interface\");\n        btnInterfaceEl.appendChild(recipeSelectBtnEl);\n    });\n}\n\n// Display Selected Recipe\nlet selectedRecipe = (e, recipe) => {\n\n    // Set active button\n    const selected = e.currentTarget;\n    Array.from(document.querySelectorAll('.sd-btn-primary')).forEach((el) => {\n        el.classList.add('disabled');\n    });\n\n    // Reset display\n    const displayEl = document.getElementById(\"sd-display\");\n    displayEl.innerHTML = \"\";\n    \n    // Populate Display\n    const recipeTitleEl = document.createElement(\"h2\");\n    const recipeTitleName = document.createTextNode(recipe.name+\" in progress...\");\n    recipeTitleEl.appendChild(recipeTitleName);\n    displayEl.appendChild(recipeTitleEl);\n\n    // Include Steps\n    const recipeStepEl = document.createElement(\"p\");\n    stepGenerator(recipeStepEl, recipe);\n    \n}\n\n// Step Process \nlet stepGenerator = (recipeStepEl, recipe) => {\n    let iterationTime = 1000;\n    recipe.steps.forEach((step, i) => {\n        const displayEl = document.getElementById(\"sd-display\");\n        setTimeout(() => {\n            recipeStepEl.innerHTML = \"\";\n            const recipeStepName = document.createTextNode(step.name);\n            recipeStepEl.appendChild(recipeStepName);\n            displayEl.appendChild(recipeStepEl);\n            progressBar(step);\n            // Last iteration\n            if (i === recipe.steps.length - 1)\n                setTimeout(() => {\n                    recipeComplete(recipe);\n                }, step.duration * 1000);\n        }, iterationTime);\n        iterationTime += step.duration * 1000;\n    });\n};\n\n// Display Progress Bar\nlet progressBar = (step) => {\n\n    // Reset (Remove) Bar\n    const bar = document.getElementById(\"sd-progress-bar\");\n    if(document.getElementById(\"sd-progress-bar\"))\n        bar.remove()\n\n    // Create Progress bar\n    const displayEl = document.getElementById(\"sd-display\");\n    const progressBarEl = document.createElement(\"div\");\n    progressBarEl.setAttribute(\"id\", \"sd-progress-bar\");\n\n    // Set Duration\n    progressBarEl.style.transitionDuration = step.duration+\"s\";\n    displayEl.appendChild(progressBarEl).focus();\n    progressBarEl.classList.add('active');\n}\n\n// Initialise Recipe Completion\nlet recipeComplete = (recipe) => {\n    \n    // Clear Display\n    const displayEl = document.getElementById(\"sd-display\");\n    displayEl.innerHTML = \"\";\n\n    // Show thank you message\n    const completionMessageEl = document.createElement(\"h2\");\n    const completionMessage = document.createTextNode(\"All done!\");\n    completionMessageEl.appendChild(completionMessage);\n    const completionSubMessageEl = document.createElement(\"p\");\n    const completionSubMessage = document.createTextNode(\"Please take your \"+recipe.name+\" and have a nice day!\");\n    completionSubMessageEl.appendChild(completionSubMessage);\n    displayEl.appendChild(completionMessageEl);\n    displayEl.appendChild(completionSubMessageEl);\n\n    setTimeout(() => {\n        // Clear display after message\n        displayEl.innerHTML = \"\";\n\n        // Enable Buttons\n        Array.from(document.querySelectorAll('.sd-btn-primary')).forEach((el) => {\n            el.classList.remove('disabled');\n        });\n    }, 5000);\n}"],"file":"main.js"}